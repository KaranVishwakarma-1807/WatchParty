<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Watch Party</title>
  <link rel="icon" href="assets/title.svg" type="image/svg+xml" />
  <link rel="stylesheet" href="watch-party.css" />
</head>
<body>
  <div class="ambient a"></div>
  <div class="ambient b"></div>

  <main class="shell">
    <header class="glass topbar">
      <h1>Watch Party</h1>
      <p id="statusText">Join a room to start.</p>
    </header>

    <section class="glass join-card">
      <label>
        Room ID
        <input id="roomInput" type="text" placeholder="movie-time" />
      </label>
      <label>
        Your Name
        <input id="nameInput" type="text" placeholder="Kookiee" />
      </label>
      <button id="joinBtn" type="button">Join Room</button>
    </section>

    <section class="layout">
      <article class="glass player-card">
        <video id="videoPlayer" playsinline></video>
        <div id="youtubeContainer" class="youtube-container hidden">
          <div id="youtubePlayer"></div>
        </div>
        <p id="videoTitle" class="video-title">No media selected yet.</p>

        <section class="controls">
          <button id="playPauseBtn" type="button">Play</button>
          <button id="muteBtn" type="button">Mute</button>
          <button id="fullscreenBtn" type="button">Fullscreen</button>
          <label>
            Speed
            <select id="speedSelect" title="Playback speed">
              <option value="0.5">0.5x</option>
              <option value="0.75">0.75x</option>
              <option value="1" selected>1x</option>
              <option value="1.25">1.25x</option>
              <option value="1.5">1.5x</option>
              <option value="1.75">1.75x</option>
              <option value="2">2x</option>
            </select>
          </label>
          <label>
            Subtitles
            <select id="subtitleSelect" title="Subtitle track">
              <option value="off">Off</option>
            </select>
          </label>
          <label>
            Audio
            <select id="audioTrackSelect" title="Audio track">
              <option value="default">Default</option>
            </select>
          </label>
          <label>
            Volume
            <input id="volumeRange" type="range" min="0" max="1" step="0.01" value="1" />
          </label>
          <label>
            Seek
            <input id="seekRange" type="range" min="0" max="100" step="0.1" value="0" />
          </label>
          <span id="timeText">00:00 / 00:00</span>
        </section>
      </article>

      <aside class="glass side-card">
        <h2>Room</h2>
        <p id="roleText">Role: Viewer</p>
        <p id="hostText">Host: -</p>

        <div class="upload-box">
          <label for="uploadInput" id="uploadLabel" class="upload-label">Upload Video (Host Direct)</label>
          <input id="uploadInput" class="hidden-upload" type="file" accept="video/*" />

          <div class="youtube-box">
            <input id="youtubeUrlInput" type="text" placeholder="Paste YouTube URL (Host/Co-host)" />
            <button id="setYoutubeBtn" type="button">Set YouTube</button>
          </div>

          <button id="syncBlobBtn" class="disabled" type="button" disabled>Sync Playlist from Blob</button>

          <div id="uploadProgressWrap" class="upload-progress-wrap hidden">
            <div class="upload-progress-track">
              <div id="uploadProgressFill" class="upload-progress-fill"></div>
            </div>
            <p id="uploadProgressText" class="upload-progress-text">0%</p>
          </div>
          <button id="clearUploadBtn" class="disabled" type="button" disabled>Clear Current Media</button>
        </div>

        <h3>Playlist</h3>
        <ul id="playlistList" class="playlist-list"></ul>

        <h3>Request Queue</h3>
        <ul id="requestQueueList" class="request-queue-list"></ul>

        <h3>Members</h3>
        <ul id="memberList" class="member-list"></ul>
      </aside>
    </section>
  </main>

  <script src="https://www.youtube.com/iframe_api"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script src="watch-party.js"></script>
</body>
</html>

